\doxysection{include/session.h File Reference}
\hypertarget{session_8h}{}\label{session_8h}\index{include/session.h@{include/session.h}}


Session layer specification for socket management.  


{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$netinet/in.\+h$>$}\newline
{\ttfamily \#include $<$arpa/inet.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$signal.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
Include dependency graph for session.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsocket}{socket}}
\begin{DoxyCompactList}\small\item\em Socket data structure definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structsocket}{socket}} \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Socket data type definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{session_8h_a33abe921a88df75673f623e49227139e}{adr2struct}} (struct sockaddr\+\_\+in \texorpdfstring{$\ast$}{*}addr, char \texorpdfstring{$\ast$}{*}adr\+IP, short port)
\begin{DoxyCompactList}\small\item\em Converts human-\/readable address format to BSD socket structure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} \mbox{\hyperlink{session_8h_afac73db40b85a0897ae36d9342188ab7}{creer\+Socket}} (int mode)
\begin{DoxyCompactList}\small\item\em Creates a socket of type DGRAM or STREAM. \end{DoxyCompactList}\item 
\mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} \mbox{\hyperlink{session_8h_a5d9908d2192f6364a4f8812cdaa1f7d1}{creer\+Socket\+Adr}} (int mode, char \texorpdfstring{$\ast$}{*}adr\+IP, short port)
\begin{DoxyCompactList}\small\item\em Creates a socket of type DGRAM/\+STREAM with specified addressing. \end{DoxyCompactList}\item 
\mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} \mbox{\hyperlink{session_8h_a03d4dd64d2b50bfe1e93055e6ee10976}{creer\+Socket\+Ecoute}} (char \texorpdfstring{$\ast$}{*}adr\+IP, short port)
\begin{DoxyCompactList}\small\item\em Creates a listening socket with the provided addressing. \end{DoxyCompactList}\item 
\mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} \mbox{\hyperlink{session_8h_a1bf8e2cd5daab300c5354e8efaf065c9}{accepter\+Clt}} (const \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} sock\+Ecoute)
\begin{DoxyCompactList}\small\item\em Accepts a client connection request. \end{DoxyCompactList}\item 
\mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} \mbox{\hyperlink{session_8h_a7f5e8ef98743c3001ba36b42a46f1561}{connecter\+Clt2\+Srv}} (char \texorpdfstring{$\ast$}{*}adr\+IP, short port)
\begin{DoxyCompactList}\small\item\em Creates a calling socket and connects to a server. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Session layer specification for socket management. 

This header file provides the specification for the session layer, defining data structures and function prototypes for socket operations. It supports both TCP (SOCK\+\_\+\+STREAM) and UDP (SOCK\+\_\+\+DGRAM) socket modes, providing a high-\/level interface for creating, binding, listening, accepting, and connecting sockets in client-\/server applications. \begin{DoxyAuthor}{Author}
Samir El Khattabi 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
March 3, 2023 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


\doxysubsection{Typedef Documentation}
\Hypertarget{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}\label{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416} 
\index{session.h@{session.h}!socket\_t@{socket\_t}}
\index{socket\_t@{socket\_t}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{socket\_t}{socket\_t}}
{\footnotesize\ttfamily \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}}}



Socket data type definition. 

Convenient type alias for struct socket 

\doxysubsection{Function Documentation}
\Hypertarget{session_8h_a1bf8e2cd5daab300c5354e8efaf065c9}\label{session_8h_a1bf8e2cd5daab300c5354e8efaf065c9} 
\index{session.h@{session.h}!accepterClt@{accepterClt}}
\index{accepterClt@{accepterClt}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{accepterClt()}{accepterClt()}}
{\footnotesize\ttfamily \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} accepter\+Clt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}}}]{sock\+Ecoute }\end{DoxyParamCaption})}



Accepts a client connection request. 

Blocks waiting for an incoming connection on the listening socket, then accepts it and returns a new socket for communication with the connected client. The client\textquotesingle{}s address information is stored in the returned socket structure.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sock\+Ecoute} & Listening socket to receive the connection request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Dialogue socket connected by the server with a client
\end{DoxyReturn}
\begin{DoxyNote}{Note}
This function blocks until a client connection request arrives 

The returned socket is ready for bidirectional communication 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{session_8h_a03d4dd64d2b50bfe1e93055e6ee10976}{creer\+Socket\+Ecoute()} 
\end{DoxySeeAlso}
\Hypertarget{session_8h_a33abe921a88df75673f623e49227139e}\label{session_8h_a33abe921a88df75673f623e49227139e} 
\index{session.h@{session.h}!adr2struct@{adr2struct}}
\index{adr2struct@{adr2struct}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{adr2struct()}{adr2struct()}}
{\footnotesize\ttfamily void adr2struct (\begin{DoxyParamCaption}\item[{struct sockaddr\+\_\+in \texorpdfstring{$\ast$}{*}}]{addr,  }\item[{char \texorpdfstring{$\ast$}{*}}]{adr\+IP,  }\item[{short}]{port }\end{DoxyParamCaption})}



Converts human-\/readable address format to BSD socket structure. 

Transforms an IP address string and port number into a sockaddr\+\_\+in structure suitable for use with Berkeley sockets API. Handles address family configuration, byte order conversion, and structure initialization.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em addr} & BSD socket addressing structure to fill (INET domain) \\
\hline
\mbox{\texttt{ in}}  & {\em adr\+IP} & IP address string of the socket (e.\+g., "{}192.\+168.\+1.\+1"{} or "{}0.\+0.\+0.\+0"{}) \\
\hline
\mbox{\texttt{ in}}  & {\em port} & Port number of the socket\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The domain depends on the chosen mode (TCP/\+UDP) 

The addr parameter is modified by this function 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{session_8h_a5d9908d2192f6364a4f8812cdaa1f7d1}{creer\+Socket\+Adr()} 
\end{DoxySeeAlso}
\Hypertarget{session_8h_a7f5e8ef98743c3001ba36b42a46f1561}\label{session_8h_a7f5e8ef98743c3001ba36b42a46f1561} 
\index{session.h@{session.h}!connecterClt2Srv@{connecterClt2Srv}}
\index{connecterClt2Srv@{connecterClt2Srv}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{connecterClt2Srv()}{connecterClt2Srv()}}
{\footnotesize\ttfamily \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} connecter\+Clt2\+Srv (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{adr\+IP,  }\item[{short}]{port }\end{DoxyParamCaption})}



Creates a calling socket and connects to a server. 

Creates a TCP socket and initiates a connection to the server whose address is provided as parameter. This function is used by client applications to establish connections to servers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em adr\+IP} & IP address of the server to connect to \\
\hline
\mbox{\texttt{ in}}  & {\em port} & TCP port of the server to connect to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Socket connected to the server provided as parameter
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Always creates a SOCK\+\_\+\+STREAM (TCP) socket 

This function blocks until connection is established or fails 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{session_8h_afac73db40b85a0897ae36d9342188ab7}{creer\+Socket()} 
\end{DoxySeeAlso}
\Hypertarget{session_8h_afac73db40b85a0897ae36d9342188ab7}\label{session_8h_afac73db40b85a0897ae36d9342188ab7} 
\index{session.h@{session.h}!creerSocket@{creerSocket}}
\index{creerSocket@{creerSocket}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{creerSocket()}{creerSocket()}}
{\footnotesize\ttfamily \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} creer\+Socket (\begin{DoxyParamCaption}\item[{int}]{mode }\end{DoxyParamCaption})}



Creates a socket of type DGRAM or STREAM. 

Creates a socket using the Berkeley sockets API with the specified mode. Supports both connection-\/oriented (SOCK\+\_\+\+STREAM/\+TCP) and connectionless (SOCK\+\_\+\+DGRAM/\+UDP) communication modes.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mode} & Connection mode\+: SOCK\+\_\+\+STREAM (connected/\+TCP) or SOCK\+\_\+\+DGRAM (connectionless/\+UDP) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Socket created according to the chosen mode
\end{DoxyReturn}
\begin{DoxyNote}{Note}
If an invalid mode is provided, defaults to SOCK\+\_\+\+STREAM 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{session_8h_a5d9908d2192f6364a4f8812cdaa1f7d1}{creer\+Socket\+Adr()} 
\end{DoxySeeAlso}
\Hypertarget{session_8h_a5d9908d2192f6364a4f8812cdaa1f7d1}\label{session_8h_a5d9908d2192f6364a4f8812cdaa1f7d1} 
\index{session.h@{session.h}!creerSocketAdr@{creerSocketAdr}}
\index{creerSocketAdr@{creerSocketAdr}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{creerSocketAdr()}{creerSocketAdr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} creer\+Socket\+Adr (\begin{DoxyParamCaption}\item[{int}]{mode,  }\item[{char \texorpdfstring{$\ast$}{*}}]{adr\+IP,  }\item[{short}]{port }\end{DoxyParamCaption})}



Creates a socket of type DGRAM/\+STREAM with specified addressing. 

Creates a socket with the specified mode and binds it to the provided IP address and port. This function combines socket creation and address binding in a single operation.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mode} & Connection mode\+: SOCK\+\_\+\+STREAM (TCP) or SOCK\+\_\+\+DGRAM (UDP) \\
\hline
\mbox{\texttt{ in}}  & {\em adr\+IP} & IP address to bind the socket to \\
\hline
\mbox{\texttt{ in}}  & {\em port} & Port number to bind the socket to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Socket created in the chosen domain with the provided addressing
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\doxylink{session_8h_afac73db40b85a0897ae36d9342188ab7}{creer\+Socket()}, \doxylink{session_8h_a33abe921a88df75673f623e49227139e}{adr2struct()} 
\end{DoxySeeAlso}
\Hypertarget{session_8h_a03d4dd64d2b50bfe1e93055e6ee10976}\label{session_8h_a03d4dd64d2b50bfe1e93055e6ee10976} 
\index{session.h@{session.h}!creerSocketEcoute@{creerSocketEcoute}}
\index{creerSocketEcoute@{creerSocketEcoute}!session.h@{session.h}}
\doxysubsubsection{\texorpdfstring{creerSocketEcoute()}{creerSocketEcoute()}}
{\footnotesize\ttfamily \mbox{\hyperlink{session_8h_a5ef0f2ca252f36a0c8d046d2eb67b416}{socket\+\_\+t}} creer\+Socket\+Ecoute (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{adr\+IP,  }\item[{short}]{port }\end{DoxyParamCaption})}



Creates a listening socket with the provided addressing. 

Creates a TCP socket, binds it to the specified address and port, and puts it in listening mode to accept incoming client connections. This function is specifically designed for server applications.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em adr\+IP} & IP address of the server to put in listening mode \\
\hline
\mbox{\texttt{ in}}  & {\em port} & TCP port of the server to put in listening mode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Socket created with the provided addressing and in listening state
\end{DoxyReturn}
\begin{DoxyNote}{Note}
The mode is necessarily SOCK\+\_\+\+STREAM (TCP) 

Listen backlog is configured for pending connections 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{session_8h_a1bf8e2cd5daab300c5354e8efaf065c9}{accepter\+Clt()} 
\end{DoxySeeAlso}
